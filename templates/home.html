{% extends "layout.html" %}
{% block content %}
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
html,body,h1,h2,h3,h5 {font-family: "Raleway", sans-serif;
                          color: black;}

.piechart {
            margin-top: 40px;
            margin-bottom: 40px;
            display: block;
            width: 400px;
            height: 400px;
            border-radius: 50%;
            background-image: conic-gradient(
                #FFAB91 {{done}}, 
                #7AC0E0 0);
	          float: left;
        }

	 
</style>



 <!-- Header -->
 <header class="w3-container" style="padding-top:22px">
  <h5><b><i class="fa fa-dashboard"></i> My Dashboard</b></h5>
</header>

<h1>Welcome, {{name}}!</h1>
<h3 ><br>Dashboard</h3>

<div class="w3-panel-center w3-cyan">
  <span style="font-size:150px; line-height:0.6em; opacity:0.2">‚ùù</span>
  <p class="w3-xlarge" style="margin-top:-40px; color:white"><i>{{ quote }}</div>
<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-left:10px;margin-top:43px;">

<center>
<button type="button" class="button" onclick="window.location.href='../study';"> My Study Plan </button>
</center>

 
<div>  
<div class="piechart"></div>

<div class="squarestext">
  <table>
<tr><td><div class="square1"></div></td>
<td>Tasks Done</td></tr>
<tr><td><div class="square2"></div></td>
<td>Tasks To Do</td></tr>
</table>

<hr>
  <div class="w3-row-padding w3-margin-bottom">
    <div class="w3-quarter">
      <div class="w3-container w3-red w3-padding-16">
        <div class="w3-left"></div>
        <div class="w3-right">
          <h3 style="color:rgb(245, 243, 243);">{{perfectdays}}</h3>
        </div>
        <div class="w3-clear"></div>
        <h4>Total number of perfect days</h4>
        <h6>(A perfect day is one when you've completed all scheduled tasks on time.)</h6>
      </div>
    </div>
    <div class="w3-quarter">
      <div class="w3-container w3-blue w3-padding-16">
        <div class="w3-left"></div>
        <div class="w3-right">
          <h3 style="color:rgb(245, 243, 243);">{{average}}</h3>
        </div>
        <div class="w3-clear"></div>
        <h4>Your average number of chapters done in a month</h4>
      </div>
    </div>
    <div class="w3-quarter">
      <div class="w3-container w3-teal w3-padding-16">
        <div class="w3-left"></div>
        <div class="w3-right">
          <h3 style="color:rgb(245, 243, 243);">{{thisweek}}</h3>
        </div>
        <div class="w3-clear"></div>
        <h4>Number of tasks completed this week</h4>
      </div>
    </div>
    <div class="w3-quarter">
      <div class="w3-container w3-orange w3-text-white w3-padding-16">
        <div class="w3-left"></div>
        <div class="w3-right">
          <h3 style="color:rgb(245, 243, 243);">{{thismonth}}</h3>
        </div>
        <div class="w3-clear"></div>
        <h4>Number of tasks completed this month</h4>
      </div>
    </div>
  </div>


  <div class="w3-container">
    <h5>Overall Subjectwise Stats</h5>
    <p>Computer Science</p>
    <div class="w3-grey">
      <div class="w3-container w3-center w3-padding w3-green" style="width:{{subjects["Computer Science"]*100/submax if submax else 0}}%">{{subjects["Computer Science"]}} tasks done</div>
    </div>

    <p>Math</p>
    <div class="w3-grey">
      <div class="w3-container w3-center w3-padding w3-orange" style="width:{{subjects["Maths"]*100/submax if submax else 0}}%">{{subjects["Maths"]}} tasks done</div>
    </div>

    <p>Physics</p>
    <div class="w3-grey">
      <div class="w3-container w3-center w3-padding w3-red" style="width:{{subjects["Physics"]*100/submax if submax else 0}}">{{subjects["Physics"]}} tasks done</div>
    </div>

    <p>Chemistry</p>
    <div class="w3-grey">
      <div class="w3-container w3-center w3-padding w3-blue" style="width:{{subjects["Chemistry"]*100/submax if submax else 0}}%">{{subjects["Chemistry"]}} tasks done</div>
    </div>
  </div>

  <hr>

  
  <div class="w3-containerw3-padding-32" style="background-color:rgb(88, 90, 90); color:white">
    <h5 class="w3-bottombar" style="color:white">Recently completed tasks</h5>
{% if isdone %} 
    <ul>
      <li class="w3-padding-16"></li>
{% for task in recent %}
        <span class="w3-xlarge">{{task}}</span><br>
{% endfor %}
      </li>
    </ul>
{% else %}
<p>No tasks completed yet</p>
{% endif %}
  </div>
  <hr>
  <br>
  <div class="w3-container w3-padding-32" style="background-color:rgb(88, 90, 90)" >
    <h3 class="w3-bottombar" style="color:white">Chapters Yet to Complete</h3>
    <div class="w3-row" style="background-color:rgb(88, 90, 90)">
      <div class="w3-container w3-third" style="background-color:rgb(88, 90, 90)">
        <h5 class="w3-bottombar w3-border-green" style="color:white">Computer Science</h5>
	{% for i in d["cs"] %}
        <p style="color:white">{{i}}</p>
        {% endfor %}  
      </div>

      <div class="w3-container w3-third" style="background-color:rgb(88, 90, 90)">
        <h5 class="w3-bottombar w3-border-red" style="color:white">Physics</h5>
        {% for i in d["physics"] %}
        <p style="color:white">{{i}}</p>
        {% endfor %}
      </div>
      <div class="w3-container w3-third" style="background-color:rgb(88, 90, 90)">
        <h5 class="w3-bottombar w3-border-orange" style="color:white">Chemistry</h5>
        {% for i in d["chemistry"] %}
        <p style="color:white">{{i}}</p>
        {% endfor %}
      </div>
      <div class="w3-container w3-third" style="background-color:rgb(88, 90, 90)">
        <h5 class="w3-bottombar w3-border-blue" style="color:white">Math</h5>
        {% for i in d["math"] %}
        <p style="color:white">{{i}}</p>
        {% endfor %}
      </div>
    </div>
  </div>

</script>
{% endblock content %}
